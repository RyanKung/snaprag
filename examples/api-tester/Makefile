.PHONY: help install dev build clean

help:
	@echo "SnapRAG API Tester - Makefile"
	@echo ""
	@echo "Commands:"
	@echo "  make install    - Install dependencies (Trunk)"
	@echo "  make dev        - Start development server"
	@echo "  make build      - Build for production"
	@echo "  make clean      - Clean build artifacts"

install:
	@echo "ðŸ“¦ Installing dependencies..."
	@command -v trunk >/dev/null 2>&1 || cargo install trunk
	@rustup target add wasm32-unknown-unknown
	@echo "âœ… Done!"

dev:
	@echo "ðŸš€ Starting development server..."
	@echo "   API Tester: http://127.0.0.1:8080"
	@trunk serve --open

build:
	@echo "ðŸ”¨ Building for production..."
	@trunk build --release
	@echo "âœ… Build complete! Output in dist/"

clean:
	@echo "ðŸ§¹ Cleaning..."
	@rm -rf dist/
	@cargo clean
	@echo "âœ… Clean complete!"

